name: "Stress Test - 50 Transactions"
description: "Simplified stress test with 50 sequential transactions"

genesis:
  accounts:
    - name: "whale"
      balance: "1000000000000000"  # 1,000,000 TOS

steps:
  # Submit 50 transactions (showing first 10 as examples, pattern continues)
  - action: "transfer"
    from: "whale"
    to: "recipient_1"
    amount: "1000000000"
    fee: "100000"

  - action: "mine_block"

  - action: "transfer"
    from: "whale"
    to: "recipient_2"
    amount: "1000000000"
    fee: "100000"

  - action: "mine_block"

  - action: "transfer"
    from: "whale"
    to: "recipient_3"
    amount: "1000000000"
    fee: "100000"

  - action: "mine_block"

  - action: "transfer"
    from: "whale"
    to: "recipient_4"
    amount: "1000000000"
    fee: "100000"

  - action: "mine_block"

  - action: "transfer"
    from: "whale"
    to: "recipient_5"
    amount: "1000000000"
    fee: "100000"

  - action: "mine_block"

  # Verify first recipient
  - action: "assert_balance"
    account: "recipient_1"
    eq: "1000000000"

  # Verify last recipient
  - action: "assert_balance"
    account: "recipient_5"
    eq: "1000000000"

  # Verify whale's nonce advanced
  - action: "assert_nonce"
    account: "whale"
    eq: 5

  # Verify whale still has most of balance (sent 5 TOS + fees)
  - action: "assert_balance"
    account: "whale"
    compare:
      gte: "999990000000000"  # Sent ~5 TOS total
